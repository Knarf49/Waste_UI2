<Page2Screen>:
    name: "page2"
    canvas.before:
        Color:
            rgba: (221/255, 237/255, 233/255, 1)  # Set background color to white
        Rectangle:
            size: self.size
            pos: self.pos

    FloatLayout:
        Video:
            id: video_player
            source: ""  # Video source is set dynamically
            state: "stop"  # Initially paused
            allow_stretch: True
            options: {"eos": "loop"}  # Loop video when it ends
            size_hint: 1, 1  # Fill the slide area
            pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the player

        MDSpinner:
            id: loading_spinner
            size_hint: None, None
            size: dp(46), dp(46)
            pos_hint: {'center_x': .9, 'center_y': .1}
            color: 0.82, 0.44, 0.15, 1  # Spinner color set to #d17125
            active: False  # Start inactive
            opacity: 0  # Hidden initially

        MDRaisedButton:
            id: delayed_button
            font_name: 'prompt-B'
            text: "กดเพื่อดูผลลัพธ์"
            text_color: [1, 1, 1, 1]  # White text
            size_hint: 0.2, 0.1
            pos_hint: {"center_x": 0.85, "center_y": 0.1}
            font_size: "25sp"
            opacity: 0  # Hidden initially
            disabled: True  # Disabled initially
            on_release:
                app.root.current = "result"
                root.manager.transition.direction = 'left'
            theme_bg_color: "Custom"
            md_bg_color: "#1EDC5A"
            elevation_normal: 8
